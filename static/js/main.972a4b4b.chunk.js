(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(25)},18:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),i=a.n(c),l=(a(18),a(1)),s=a(4);a(23);function o(e){var t=e.name,a=e.computer,n=e.board,r=e.attackOptions;return a?{attackOptions:r,targetHit:null,name:t,ships:[],board:n,computer:a,shipsPlaced:!0,loser:!1}:{name:t,ships:[],board:n,computer:a,shipsPlaced:!1,turn:!1,loser:!1}}function u(){for(var e=[],t=0;t<81;t++){e.push({ship:null,hit:!1})}return e}function p(e){return o({name:"Player ".concat(e),computer:!1,board:u()})}var h=["battleship","cruiser","carrier","destroyer","submarine"],m={battleship:"https://i0.wp.com/bestofthesouthbay.com/wp-content/uploads/2018/05/Battleship-IOWA-3.jpg?fit=1000%2C565&ssl=1",cruiser:"http://www.military-today.com/navy/ticonderoga_class_cruiser.jpg",carrier:"https://s1.1zoom.me/big0/504/Ships_Aircraft_carrier_USS_Ronald_Reagan_(CVN_76)_520551_1280x854.jpg",destroyer:"https://assets.rebelmouse.io/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpbWFnZSI6Imh0dHBzOi8vYXNzZXRzLnJibC5tcy8xNzQ5MjUzMC9vcmlnaW4uanBnIiwiZXhwaXJlc19hdCI6MTU4NTA5NTQ5N30.NtufxACnX8pnT1FS5S7hljDqfTTkgLF27X226CANZKE/img.jpg?width=980",submarine:"https://image.businessinsider.com/5ad514fd146e71a4488b47a3?width=1100&format=jpeg&auto=webp"},f={battleship:{length:4,image:m.battleship},submarine:{length:3,image:m.submarine},destroyer:{length:3,image:m.destroyer},cruiser:{length:2,image:m.cruiser},carrier:{length:5,image:m.carrier}};function d(e){var t,a=f[e];return{name:(t={name:e,length:a.length,image:a.image}).name,length:t.length,shiphits:0,sunk:!1,image:t.image}}function g(e){return e.vertical?function(e){for(var t=e.spot,a=e.ship,n=e.player,r=0;r<a.length;r++){var c=9*r;if(t+c>80||null!==n.board[t+c].ship)return!1}return!0}(e):function(e){for(var t,a=e.spot,n=e.ship,r=e.player,c=1;c<=9;c++){var i=9*c-1;if(i>=a){t=i;break}}return!(a+n.length-1>t)&&r.board.slice(a,a+n.length).every(function(e){return null===e.ship})}(e)}function v(){return function(e){for(var t=0;t<h.length;t++){var a=Math.random()>.5,n=h[t],r=d(n),c=E({vertical:a,ship:r,computer:e});b({player:e,vertical:a,ship:r,target:c})}return e}(o({name:"computer",computer:!0,board:u(),attackOptions:y()}))}function y(){for(var e=[],t=0;t<=80;t++)e.push(t);return e}function b(e){for(var t=e.player,a=e.target,n=e.ship,r=e.vertical,c=0;c<n.length;c++){var i=c;!0===r&&(i=9*c),t.board[a+i].ship=n}return t.ships.push(n),t}function E(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,a=e.vertical,n=e.ship,r=e.computer,c=Math.floor(80*Math.random());!t({spot:c,vertical:a,ship:n,player:r});)c=Math.floor(80*Math.random());return c}var k="START_PLAYER_ONE",O="START_TWO_PLAYER",_="RECEIVE_ATTACK_ONE",T="RECEIVE_ATTACK_TWO",w="PLACE_SHIP_ONE",S="PLACE_SHIP_TWO",A="PLACED_SHIPS_COMPLETED",N="START_ATTACK_ONE",P="START_ATTACK_TWO",j="BEGIN_ATTACK",C="END_HOLD_SCREEN",I="UPDATE_ATTACK_OPTIONS";var H=Object(s.c)({playerOne:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p("1"),a=arguments.length>1?arguments[1]:void 0,n=a.type,r=a.shipPlace,c=a.target,i=t.ships.map(function(e){return Object.assign({},e)}),l=t.board.map(function(e){if(null!==e.ship){var t=e.ship.name,a=i.find(function(e){return e.name===t});return Object.assign({},e,{ship:a})}return Object.assign({},e)});switch(n){case _:e={loser:!1,board:l,ships:i},l[c].hit=!0;var s=l[c].ship;return null!==s&&(s.shiphits++,s.shiphits===s.length&&(s.sunk=!0,alert("Player One's ".concat(s.name," has sunk"))),i.every(function(e){return e.shiphits===e.length})&&(e.loser=!0)),Object.assign({},t,e);case w:var o=r.ship,u=r.spot,h=r.vertical;e={ships:i,board:l};for(var m=0;m<o.length;m++){var f=m;!0===h&&(f=9*m),l[u+f].ship=o}return i.push(o),5===i.length&&(e.shipsPlaced=!0,e.turn=!0),Object.assign({},t,e);case N:return e={turn:!0},Object.assign({},t,e);case P:return e={turn:!1},Object.assign({},t,e);default:return t}},playerTwo:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p("2"),a=arguments.length>1?arguments[1]:void 0,n=a.type,r=a.shipPlace,c=a.target,i=t.ships.map(function(e){return Object.assign({},e)}),l=t.board.map(function(e){if(null!==e.ship){var t=e.ship.name,a=i.find(function(e){return e.name===t});return Object.assign({},e,{ship:a})}return Object.assign({},e)});switch(n){case k:return v();case _:if(t.computer){var s=t.attackOptions.slice();s.splice(c,1),e={targetHit:c,attackOptions:s}}return Object.assign({},t,e);case T:e={loser:!1,board:l,ships:i},l[c].hit=!0;var o=l[c].ship;return null!==o&&(o.shiphits++,o.shiphits===o.length&&(o.sunk=!0,alert("Player Two's ".concat(o.name," has sunk"))),i.every(function(e){return e.shiphits===e.length})&&(e.loser=!0)),Object.assign({},t,e);case S:var u=r.ship,h=r.spot,m=r.vertical;e={ships:i,board:l};for(var f=0;f<u.length;f++){var d=f;!0===m&&(d=9*f),l[h+d].ship=u}return i.push(u),5===i.length&&(e.shipsPlaced=!0),Object.assign({},t,e);case N:return e={turn:!1},Object.assign({},t,e);case P:return e={turn:!0},Object.assign({},t,e);case I:var g=t.attackOptions.slice();return g.splice(c,1),e={attackOptions:g},Object.assign({},t,e);default:return t}},gameStart:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case k:case O:return!0;default:return e}},placedShips:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case A:return!0;default:return e}},postAttack:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case _:case T:return!0;case N:case P:return!1;default:return e}},nextTurn:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case j:return!1;case C:case A:return!0;default:return e}}});function M(e){return{type:_,target:e}}function R(){return{type:j}}var x=a(10);function z(e){var t,a,n=e.selectGridForShip,c=e.grid.ship,i=null;if(null===c)t=n,a="blue",i=null;else{var l=c.name,s=c.image;a="grey",i=r.a.createElement("img",{src:s,alt:l})}return r.a.createElement("section",{className:"grid ".concat(a),onClick:t},i)}function B(e){for(var t=e.selectGridForShip,a=e.board,n=[],c=0,i=[],l=function(e){var l=e,s=a[e];i.push(r.a.createElement(z,{key:"".concat(l," grid"),grid:s,selectGridForShip:function(){return t(l)}})),9===i.length&&(n.push(r.a.createElement("li",{key:c},i)),c+=1,i=[])},s=0;s<a.length;s++)l(s);return r.a.createElement("ul",null,n)}var L=a(2),W=a.n(L);function Y(e){var t=e.player,a=e.changeShip;return h.slice().reduce(function(e,n){return void 0===t.ships.find(function(e){return e.name===n})&&e.push(r.a.createElement("section",{className:"ship__view"},r.a.createElement("p",{className:"ship__desc"},"".concat(n)),r.a.createElement("img",{key:n,className:"ship__options ".concat(n.toUpperCase()),src:m[n],alt:n,onClick:function(){var e=d(n);a(e)}}),",")),e},[])}function F(e){var t,a=e.isVertical,n=e.flipDirection;return t=!0===a?"Horizontalize Placement":"Verticalize Placement",r.a.createElement("button",{className:"vertical__button",onClick:function(){return n(!a)}},t)}Y.propTypes={player:W.a.object,changeShip:W.a.func};var V=Object(l.b)(function(e){return{playerOne:e.playerOne,playerTwo:e.playerTwo,placedShips:e.placedShips,gameStart:e.gameStart}},function(e){return{completedPlacement:function(){return e({type:A})},placeShipOne:function(t){return e(function(e){return{type:w,shipPlace:e}}(t))},placeShipTwo:function(t){return e(function(e){return{type:S,shipPlace:e}}(t))}}})(function(e){var t=Object(n.useState)(!0),a=Object(x.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(null),s=Object(x.a)(l,2),o=s[0],u=s[1],p=e.placedShips,h=e.playerOne,m=e.playerTwo,f=e.gameStart,d=e.placeShipOne,v=e.placeShipTwo,y=e.completedPlacement;if(p||!f)return null;if(h.shipsPlaced&&m.shipsPlaced)return y(),null;var b=h.shipsPlaced?m:h,E=function(){return null},k=null;if(o){var O="Player 1"===b.name?d:v;E=function(e){return function(e){var t=e.changeShip,a=e.placementFunction,n=e.isVertical,r=e.target,c=e.selectedShip;g({vertical:n,spot:r,ship:c,player:e.player})?a({spot:r,vertical:n,ship:c}):alert("Error: You either have a piece there or it goes offboard"),t(null)}({changeShip:u,placementFunction:O,isVertical:c,target:e,selectedShip:o,player:b})},k="You have selected ".concat(o.name)}return r.a.createElement("section",{className:"place-ships-board"},r.a.createElement("section",{className:"place__ships__info"},r.a.createElement("h4",null,b.name+" Place Your Ships"),r.a.createElement("p",null,k)),r.a.createElement("section",{className:"place__ship__board"},r.a.createElement("h3",null,"Place Your Ships"),r.a.createElement(B,{board:b.board,selectGridForShip:E})),r.a.createElement("section",{className:"place__ship__options"},r.a.createElement(Y,{changeShip:u,player:b}),r.a.createElement(F,{isVertical:c,flipDirection:i})))});var D=Object(l.b)(function(e){return{gameStart:e.gameStart}},function(e){return{startOnePlayer:function(){return e({type:k})},startTwoPlayer:function(){return e({type:O})}}})(function(e){var t=e.startOnePlayer,a=e.startTwoPlayer;return e.gameStart?null:r.a.createElement("section",{className:"start__game"},r.a.createElement("h4",null,"Please Select:"),r.a.createElement("button",{className:"oneplayerstart",onClick:t},"One Player"),r.a.createElement("button",{className:"twoplayerstart",onClick:a},"Two Player"))});var G=Object(l.b)(function(e){return{playerOne:e.playerOne,playerTwo:e.playerTwo,nextTurn:e.nextTurn}},function(e){return{beginAttack:function(){return e(R())}}})(function(e){var t=e.beginAttack,a=e.playerOne,n=e.playerTwo;if(!e.nextTurn)return null;var c=a.turn?a.name:n.name;return r.a.createElement("section",{className:"change-players-cutscreen"},r.a.createElement("button",{className:"start-next-player-button",onClick:t},"Click to Start ".concat(c,"'s Turn")))});function J(e){var t,a=e.grid,n=e.receiveAttack,c=a.ship,i=null;return!1===a.hit?(t=n,i="blue"):(t=function(){return alert("You've already attacked this position")},i=null===c?"green":"red"),r.a.createElement("section",{className:"grid ".concat(i),onClick:t})}function K(e){for(var t=e.receiveAttack,a=e.board,n=[],c=0,i=[],l=function(e){var l=e,s=a[e];i.push(r.a.createElement(J,{key:"".concat(l," grid attack"),grid:s,receiveAttack:function(){return t(l)}})),9===i.length&&(n.push(r.a.createElement("li",{key:c},i)),c+=1,i=[])},s=0;s<a.length;s++)l(s);return r.a.createElement("section",{className:"attack__screen"},r.a.createElement("h3",null,"Attack Board"),r.a.createElement("section",{className:"attack__board"},r.a.createElement("ul",null,n)))}function U(e){var t,a=e.grid,n=a.ship,c=null;if(null===n)t=!0===a.hit?"white":"blue";else if(!0===a.hit)t="red";else{var i=n.image,l=n.name;t="grey",c=r.a.createElement("img",{className:"grid-ship-image",src:i,alt:l})}return r.a.createElement("section",{className:"grid ".concat(t),onClick:function(){return alert("You can't attack yourself silly.")}},c)}function X(e){for(var t=e.board,a=[],n=0,c=[],i=0;i<t.length;i++){var l=i,s=t[i];c.push(r.a.createElement(U,{key:"ownBoard ".concat(l),id:"own-board",grid:s})),9===c.length&&(a.push(r.a.createElement("li",{key:n},c)),n+=1,c=[])}return r.a.createElement("section",{className:"ownboard__screen"},r.a.createElement("h3",{className:"ownboard__head"},"Your Board"),r.a.createElement("ul",null,a))}var Z=Object(l.b)(function(e){return{gameStart:e.gameStart,playerOne:e.playerOne,playerTwo:e.playerTwo,postAttack:e.postAttack,nextTurn:e.nextTurn,placedShips:e.placedShips}},function(e){return{attackPlayerOne:function(t){return e(M(t))},attackPlayerTwo:function(t){return e(function(e){return{type:T,target:e}}(t))}}})(function(e){var t=e.gameStart,a=e.placedShips,n=e.playerOne,c=e.playerTwo,i=e.attackPlayerTwo,l=e.attackPlayerOne,s=e.nextTurn,o=e.postAttack;if(!t||!a||s||o)return null;var u="".concat(c.name," Turn"),p=c,h=n,m=function(e){return l(e)};return n.turn&&(p=n,h=c,m=function(e){return i(e)},u="".concat(n.name," Turn")),r.a.createElement("div",{className:"attack-board"},r.a.createElement("h2",{className:"header attack-view"},u),r.a.createElement(K,{board:h.board,receiveAttack:m}),r.a.createElement(X,{board:p.board}))});function q(e){var t=e.name;return r.a.createElement("section",{className:"game-over"},alert("Game Over! ".concat(t," Wins!")),r.a.createElement("h1",{className:"game-over-banner"},"Game Over! ".concat(t," Wins!")))}var Q=Object(l.b)(function(e){return{playerOne:e.playerOne,playerTwo:e.playerTwo,postAttack:e.postAttack}},function(e){return{startAttackOne:function(){return e({type:N})},startAttackTwo:function(){return e({type:P})},endHoldScreen:function(){return e({type:C})},beginAttack:function(){return e(R())},attackPlayerOne:function(t){return e(M(t))},updateComputerAttackOptions:function(t){return e(function(e){return{type:I,target:e}}(t))}}})(function(e){var t=e.postAttack,a=e.playerOne,n=e.playerTwo,c=e.endHoldScreen,i=e.attackPlayerOne,l=e.updateComputerAttackOptions,s=e.beginAttack,o=e.startAttackOne,u=e.startAttackTwo;if(!t)return null;var p=n,h=a;a.turn&&(p=a,h=n);var m=r.a.createElement("h2",null,"Click on any empty attack grid to end turn."),f=function(){if(c(),!0===h.computer){var e=function(e,t){var a=e.attackOptions,n=e.targetHit,r=t.board,c=function(e,t){return null===e?[]:[e+1,e-1,e-9,e+9].filter(function(e){return t.includes(e)})}(n,a);return r[n]&&null!==r[n].ship&&0!==c.length?c[Math.floor(Math.random()*c.length)]:a[Math.floor(Math.random()*a.length)]}(n,a);i(e),l(e),o(),s()}else a.turn?u():o()};if(p.loser||h.loser){var d=p.loser?p.name:h.name,g=p.loser?h.name:p.name;f=function(){return alert("".concat(d," is a loooooooser"))},m=r.a.createElement(q,{name:g})}return r.a.createElement("section",{className:"post-attack-view",onClick:f},m,r.a.createElement(K,{board:h.board,receiveAttack:function(){return null}}),r.a.createElement(X,{board:p.board}))});var $=function(){return r.a.createElement("div",{className:"game__container"},r.a.createElement("img",{className:"background-image",alt:"a ship firing",src:"https://nationalinterest.org/sites/default/files/styles/desktop__1260_/public/main_images/bang_2.jpg?itok=kzU9qcIq"}),r.a.createElement("section",{className:"game__title"},r.a.createElement("header",null,r.a.createElement("h1",{className:"title"},"BATTLETO-- SHIPS. BATTLE SHIPS"))),r.a.createElement("section",{className:"game__display"},r.a.createElement(D,null),r.a.createElement(G,null),r.a.createElement(V,null),r.a.createElement(Z,null),r.a.createElement(Q,null)))},ee=(a(24),Object(s.d)(H,s.a.apply(void 0,[])));var te=function(){return r.a.createElement(l.a,{store:ee},r.a.createElement($,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.972a4b4b.chunk.js.map